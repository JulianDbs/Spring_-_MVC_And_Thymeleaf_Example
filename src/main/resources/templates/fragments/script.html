<!DOCTYPE html>
<html>
	<head></head>
	<body>
		<script th:fragment="home-script">
                        window.onload = function() {
                                if (localStorage.getItem("theme") == null) {localStorage.setItem("theme", "dark");}
                                window.onscroll = function() {onScroll()};
                                var navbarNormal = document.getElementById("nav-bar-normal");
                                var navbarMobile = document.getElementById("nav-bar-mobile");
                                var stickyNormal = navbarNormal.offsetTop;
                                var stickyMobile = navbarMobile.offsetTop;
                                function onScroll() {
                                                if (window.pageYOffset >= stickyNormal && window.pageYOffset >= stickyMobile) {
                                                        navbarNormal.classList.add("sticky");
                                                        navbarMobile.classList.add("sticky");
                                                } else {
                                                        navbarNormal.classList.remove("sticky");
                                                        navbarMobile.classList.remove("sticky");
                                                }
                                }

                                var checkBoxes = document.getElementsByClassName("checkbox_mode");
                                const prefersDarkScheme = window.matchMedia("(prefers-color-schema: dark)");
                                const currentTheme = localStorage.getItem("theme");
                                switch (currentTheme) {
                                        case "dark":
                                                document.body.classList.toggle("dark-theme");
                                                break;
                                        case "light":
                                                document.body.classList.toggle("light-theme");
                                                break;
                                        default:
                                                document.body.classList.toggle("dark-theme");
                                                break;
                                }

                                for (let i = 0; i < checkBoxes.length; i++) {
                                        checkBoxes[i].addEventListener("click", function() {
                                                var theme = "";
                                                switch (localStorage.getItem("theme")) {
                                                        case "dark":
                                                                document.body.className = "light-theme";
                                                                localStorage.setItem("theme", "light");
                                                                break;
                                                        case "light":
                                                                document.body.className = "dark-theme";
                                                                localStorage.setItem("theme", "dark");
                                                                break;
                                                        default:
                                                                document.body.className = "dark-theme";
                                                                localStorage.setItem("theme", "dark");
                                                                break;

                                                }
                                        });

                                }

                        }
                </script>
	</body>
</html>
